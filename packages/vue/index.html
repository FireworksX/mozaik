<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Title</title>
  </head>
  <body>
    <div id="app">
      <h1>{{ $mozaik.fullMsg }}</h1>
      <ul>
        <li v-for="comment in $mozaik.comments">
          <pre>{{ comment }}</pre>
          <button @click="comments.toggleLike">Toggle</button>
        </li>
      </ul>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
    <script src="node_modules/@mozaikjs/core/build/mozaikjs.umd.js"></script>
    <script src="build/mozaikjsVue.umd.js"></script>
    <script>
      const { types, onSnapshot } = core

      const commentModel = types
        .model({
          isLiked: types.boolean
        })
        .actions({
          toggleLike({ dispatch, state }) {
            dispatch({
              isLiked: !state.isLiked
            })
          }
        })

      const fetcher = types
        .model({
          comments: types.array(commentModel)
        })
        .create({
          comments: [
            {
              isLiked: false
            },
            {
              isLiked: false
            }
          ]
        })

      Vue.use(mozaikjsVue, { store: rootStore })

      const vm = new Vue({
        el: '#app'
      })
    </script>
  </body>
</html>
