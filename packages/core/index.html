<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Time travel</title>
  </head>
  <body>
    <div id="app">
      <h1>{{ userStore.name }}</h1>
    </div>

    <script src="build/mozaikjs.umd.js"></script>
    <script>
      const { types } = core

      const comment = types
        .model('comment', {
          isLiked: types.boolean
        })
        .actions({
          toggleLike({ state, dispatch, env }) {
            dispatch({
              isLiked: !state.isLiked
            })
          }
        })

      const commentInstance = comment.create({
        isLiked: false
      })

      const router = types
        .model('router', {
          list: types.array(comment)
        })
        .subscribe(console.log)
        .create(
          {
            path: '/',
            list: [
              {
                isLiked: false
              },
              {
                isLiked: false
              }
            ]
          },
          {
            api: 1
          }
        )

      router.list[1].toggleLike()
      // router.list[0].toggleLike()
      // router.list[1].toggleLike()
      console.log(router.$getState())
    </script>
  </body>
</html>
